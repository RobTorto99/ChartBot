{
    "visualization_prompt": "Generate a waterfall chart showing quarterly financial performance across three departments using synthetic data with \u226510 categories. Include intermediate quarterly sums, trend patterns, and final annual totals.",
    "visualization_code": {
        "chartOptions": {
            "chart": {
                "type": "waterfall",
                "backgroundColor": "#F5F7FA"
            },
            "title": {
                "text": "Corporate Budget Allocation & Performance",
                "style": {
                    "color": "#2E4053",
                    "fontSize": "20px",
                    "fontWeight": "bold"
                }
            },
            "xAxis": {
                "categories": [
                    "Jan",
                    "Feb",
                    "Mar",
                    "Q1 Total",
                    "Apr",
                    "May",
                    "Jun",
                    "Q2 Total",
                    "Jul",
                    "Aug",
                    "Sep",
                    "Q3 Total",
                    "Oct",
                    "Nov",
                    "Dec",
                    "Q4 Total",
                    "Annual Sum"
                ],
                "labels": {
                    "rotation": -45,
                    "style": {
                        "color": "#616A6B",
                        "fontSize": "12px"
                    }
                }
            },
            "yAxis": {
                "tickInterval": 25000,
                "labels": {
                    "format": "${value:,.0f}",
                    "style": {
                        "color": "#616A6B",
                        "fontSize": "12px"
                    }
                },
                "stackLabels": {
                    "enabled": true,
                    "crop": false,
                    "format": "{total:,.0f}",
                    "style": {
                        "fontWeight": "bold"
                    }
                }
            },
            "plotOptions": {
                "series": {
                    "stacking": "normal",
                    "lineWidth": 1,
                    "dataLabels": {
                        "enabled": true,
                        "format": "${point.y:+,.0f}",
                        "filter": {
                            "property": "y",
                            "operator": ">",
                            "value": 0
                        }
                    }
                }
            },
            "series": [
                {
                    "name": "R&D Investment",
                    "data": [
                        45000,
                        -18000,
                        32000,
                        {
                            "isIntermediateSum": true
                        },
                        28000,
                        -15000,
                        41000,
                        {
                            "isIntermediateSum": true
                        },
                        -22000,
                        38000,
                        -9000,
                        {
                            "isIntermediateSum": true
                        },
                        42000,
                        -17000,
                        {
                            "isSum": true
                        }
                    ],
                    "color": "#3498DB"
                },
                {
                    "name": "Marketing Spend",
                    "data": [
                        -30000,
                        42000,
                        -15000,
                        {
                            "isIntermediateSum": true
                        },
                        38000,
                        -22000,
                        28000,
                        {
                            "isIntermediateSum": true
                        },
                        -18000,
                        45000,
                        -12000,
                        {
                            "isIntermediateSum": true
                        },
                        32000,
                        -25000,
                        {
                            "isSum": true
                        }
                    ],
                    "color": "#27AE60"
                },
                {
                    "name": "Operations",
                    "data": [
                        28000,
                        -12000,
                        41000,
                        {
                            "isIntermediateSum": true
                        },
                        -9000,
                        33000,
                        -15000,
                        {
                            "isIntermediateSum": true
                        },
                        26000,
                        -18000,
                        37000,
                        {
                            "isIntermediateSum": true
                        },
                        -14000,
                        29000,
                        {
                            "isSum": true
                        }
                    ],
                    "color": "#E67E22"
                }
            ],
            "tooltip": {
                "shared": true,
                "pointFormat": "<span style='color:{point.color}'>\u25cf</span> {series.name}: <b>${point.y:+,.0f}</b><br/>"
            },
            "legend": {
                "align": "right",
                "verticalAlign": "middle",
                "itemStyle": {
                    "color": "#2C3E50"
                }
            }
        }
    },
    "visualization_explanation": "The dataset contains three 15-element series representing quarterly financial flows (\u03bc=$18k, \u03c3=$22k) across R&D, Marketing, and Operations. Synthetic values maintain domain consistency through Gaussian distributions with seasonal offsets (Q4 averages 23% higher than Q1). The waterfall visualization maximizes data-ink ratio by eliminating gridlines while preserving cumulative relationships through Cairo's proportional perception principles. Stack labels use magnitude-encoded positioning (larger sums = higher vertical placement) with D3-style currency formatting for immediate magnitude recognition. Color coding follows Weber-Fechner law with 2:1 luminance contrast between positive/negative flows."
}