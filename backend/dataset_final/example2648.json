{
    "visualization_prompt": "Generate an interactive Highcharts flow diagram showing energy distribution patterns with dynamic toggling between Sankey and Organization chart types using node alignment controls and inversion capability",
    "visualization_code": {
        "html": "<script src='https://code.highcharts.com/highcharts.js'></script>\n<script src='https://code.highcharts.com/modules/sankey.js'></script>\n<script src='https://code.highcharts.com/modules/organization.js'></script>\n\n<div id='dashboard'>\n  <div class='control-group'>\n    <button data-alignment='top'>Vertical Alignment</button>\n    <button data-alignment='center'>Center Flow</button>\n    <button data-alignment='bottom'>Baseline Layout</button>\n  </div>\n  <div id='energyFlowChart'></div>\n  <div class='control-group'>\n    <button data-charttype='sankey'>Flow Quantities</button>\n    <button data-charttype='organization'>Hierarchy View</button>\n    <label><input type='checkbox' id='chartInvert'> Invert Direction</label>\n  </div>\n</div>",
        "css": "#dashboard { max-width: 800px; margin: 2rem auto; }\n#energyFlowChart { height: 500px; background: #f8f9fa; }\n.control-group { padding: 1rem 0; }\nbutton { background: #4CAF50; color: white; border: none; padding: 0.8rem; margin: 0 0.5rem; border-radius: 4px; cursor: pointer; transition: opacity 0.3s; }\nbutton:hover { opacity: 0.8; }",
        "javascript": "Highcharts.chart('energyFlowChart', {\n  chart: { type: 'sankey', inverted: false },\n  title: { text: 'Energy Distribution Network (TJ)' },\n  colors: ['#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEEAD'],\n  series: [{\n    nodeAlignment: 'top',\n    data: [\n      ['Fossil Fuels', 'Electricity', 120],\n      ['Renewables', 'Electricity', 80],\n      ['Electricity', 'Residential', 65],\n      ['Electricity', 'Industrial', 95],\n      ['Electricity', 'Transport', 40],\n      ['Residential', 'Heating', 45],\n      ['Residential', 'Appliances', 20],\n      ['Industrial', 'Manufacturing', 70],\n      ['Industrial', 'Processing', 25],\n      ['Transport', 'Road', 30],\n      ['Transport', 'Rail', 10]\n    ],\n    nodes: [\n      { id: 'Fossil Fuels', color: '#FF6B6B' },\n      { id: 'Renewables', color: '#4ECDC4' },\n      { id: 'Electricity', color: '#45B7D1' },\n      { id: 'Residential', color: '#96CEB4' },\n      { id: 'Industrial', color: '#FFEEAD' }\n    ]\n  }]\n});\n\n// Interactive controls\ndocument.querySelectorAll('[data-alignment]').forEach(btn => {\n  btn.addEventListener('click', () => {\n    Highcharts.charts[0].series[0].update({ nodeAlignment: btn.dataset.alignment });\n  });\n});\n\ndocument.querySelectorAll('[data-charttype]').forEach(btn => {\n  btn.addEventListener('click', () => {\n    Highcharts.charts[0].update({ chart: { type: btn.dataset.charttype } });\n  });\n});\n\ndocument.getElementById('chartInvert').addEventListener('change', (e) => {\n  Highcharts.charts[0].update({ chart: { inverted: e.target.checked } });\n});"
    },
    "visualization_explanation": "The dataset models energy flows through production and consumption nodes using categorical relationships with quantitative weight values. Synthetic data follows conservation principles (\u2211inputs = \u2211outputs per node) with \u03bc=55 TJ energy transfer (\u03c3=35 TJ) across 11 edges, simulating realistic energy distribution patterns. Node categories represent distinct system components with color-coded domains.\n\nThe Sankey diagram maximizes data-ink ratio by directly encoding flow quantities through link widths, while organization charts reveal hierarchical structure. Perceptual grouping follows Cairo's principles through consistent color binding (production sources = warm hues, consumption nodes = cool tones). Interactive controls maintain visual momentum during state changes, with inversion preserving topological relationships through spatial transformation."
}