{
    "visualization_prompt": "Generate a waterfall chart showing quarterly profit/loss decomposition for a tech startup using indexed intermediate sums and color-coded financial categories",
    "visualization_code": {
        "chartOptions": {
            "chart": {
                "type": "waterfall",
                "backgroundColor": "#F9F9F9",
                "marginRight": 30
            },
            "title": {
                "text": "Q3 2024 Financial Performance Analysis",
                "style": {
                    "color": "#2c3e50",
                    "fontSize": "18px",
                    "fontWeight": "bold"
                }
            },
            "subtitle": {
                "text": "All values in USD thousands (k) | Synthetic data demonstrating small-column visibility",
                "style": {
                    "color": "#7f8c8d"
                }
            },
            "xAxis": {
                "type": "category",
                "labels": {
                    "style": {
                        "color": "#34495e",
                        "fontSize": "12px"
                    },
                    "rotation": -45
                }
            },
            "yAxis": {
                "title": {
                    "text": "Amount (USD)",
                    "style": {
                        "color": "#34495e",
                        "fontSize": "14px"
                    }
                },
                "labels": {
                    "formatter": "function() { return '$' + Highcharts.numberFormat(this.value, 0); }",
                    "style": {
                        "color": "#7f8c8d"
                    }
                }
            },
            "plotOptions": {
                "waterfall": {
                    "minPointLength": 5,
                    "borderWidth": 1.5,
                    "borderColor": "#2c3e50",
                    "dataLabels": {
                        "enabled": true,
                        "formatter": "function() { return '$' + Highcharts.numberFormat(this.y, 0); }"
                    }
                }
            },
            "tooltip": {
                "pointFormatter": "function() {\n    return '<span style=\"color:' + this.color + '\">\u25cf</span> ' + this.series.name + ': <b>$' + \n        Highcharts.numberFormat(this.y, 0, '.', ',') + 'k</b><br/>';\n}",
                "useHTML": true
            },
            "series": [
                {
                    "name": "Financial Events",
                    "data": [
                        {
                            "name": "Opening Balance",
                            "y": 5000,
                            "color": "#3498db"
                        },
                        {
                            "name": "Product Sales",
                            "y": 12000
                        },
                        {
                            "name": "SaaS Subscriptions",
                            "y": 8000
                        },
                        {
                            "name": "Licensing Fees",
                            "y": 3000
                        },
                        {
                            "name": "Tax Adjustment",
                            "y": 500,
                            "color": "#27ae60"
                        },
                        {
                            "name": "Legal Fees",
                            "y": -300,
                            "color": "#e74c3c"
                        },
                        {
                            "name": "Gross Profit",
                            "isIntermediateSum": true,
                            "color": "#2980b9"
                        },
                        {
                            "name": "R&D Costs",
                            "y": -7000
                        },
                        {
                            "name": "Marketing",
                            "y": -2500
                        },
                        {
                            "name": "Salaries",
                            "y": -4000
                        },
                        {
                            "name": "One-Time Bonus",
                            "y": -1500,
                            "color": "#e67e22"
                        },
                        {
                            "name": "Operating Profit",
                            "isIntermediateSum": true,
                            "color": "#2980b9"
                        },
                        {
                            "name": "Interest Income",
                            "y": 800
                        },
                        {
                            "name": "Forex Gains",
                            "y": 200
                        },
                        {
                            "name": "Closing Balance",
                            "isSum": true,
                            "color": "#3498db"
                        }
                    ],
                    "type": "waterfall"
                }
            ],
            "colors": [
                "#27ae60",
                "#e74c3c",
                "#2980b9",
                "#3498db",
                "#e67e22"
            ]
        }
    },
    "visualization_explanation": "The dataset represents 14 financial events across three categories (revenues, costs, adjustments) in Q3 2024. Synthetic data was generated using \u03bc=\u00b13500 for major line items and \u03bc=\u00b1500 for adjustments (\u03c3=1200), maintaining accounting equation validity. Small-value transactions (200-500) test column visibility. The waterfall format was chosen for its inherent ability to show cumulative progression, with Tufte's data-ink maximized through clean gridlines and Cairo's perceptual principles applied via position+color encoding. Intermediate sums (blue) anchor interpretation, while green/red hues create immediate valence recognition. PlotOptions.minPointLength=5 ensures visibility of smallest columns despite logarithmic perception challenges in waterfall charts."
}